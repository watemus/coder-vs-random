unit cvr_actor;

{$mode objfpc}{$H+}

interface

uses
  Classes, SysUtils, ExtCtrls, Forms;

type

  { TActor }

  TActor = class
    public
      form: TForm;
      posX, posY: Integer;
      toX: Integer;
      speed: Integer;
      actorTimer: TTimer;
      constructor create(f: TForm); virtual;
      procedure update(Sender: TObject);
      procedure translate(x,s: Integer); virtual;
      procedure translateFromTo(x,s: Integer); virtual;
  end;

implementation

{ TActor }

constructor TActor.create(f: TForm);
begin
  form := f;
  actorTimer := TTimer.create(form);
  actorTimer.Interval := 10;
  actorTimer.OnTimer := @update;
end;

procedure TActor.update(Sender: TObject);
begin
  if(not (toX = posX)) then
  begin
    posX := posX + speed;
  end
end;

procedure TActor.translate(x, s: Integer);
begin
  toX := posX + x;
  speed := s;
end;

procedure TActor.translateFromTo(x, s: Integer);
begin
  toX := x;
  speed := s;
end;

end.

